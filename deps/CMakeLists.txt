set (SOKOL_FILES sokol/sokol_app.h sokol/sokol_args.h sokol/sokol_audio.h sokol/sokol_fetch.h sokol/sokol_gfx.h sokol/sokol_time.h)
if(APPLE)
    add_library(sokol STATIC ${SOKOL_FILES} sokol.m)
    target_compile_options(sokol PUBLIC "-fobjc-arc")

    #find_library(APPKIT AppKit)
    find_library(COCOA Cocoa)
    find_library(QUARZCORE QuartzCore)
    find_library(METAL Metal)
    find_library(METAL_LIBRARY Metal)
    find_library(METALKIT MetalKit)
    find_library(AUDIOTOOLBOX AudioToolbox)
    target_link_libraries(sokol ${COCOA} ${QUARZCORE} ${METAL} ${METALKIT} ${AUDIOTOOLBOX})
else()
    add_library(sokol STATIC ${SOKOL_FILES} sokol.c)
endif()
target_include_directories(sokol PUBLIC sokol)